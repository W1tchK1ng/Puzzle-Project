//---------------------------------------------------------------------------------------------------------------------------
#include "Ficha.h"
//---------------------------------------------------------------------------------------------------------------------------
//
//---------------------------------------------------------------------------------------------------------------------------
FICHA::FICHA()
{
	init();
}
//---------------------------------------------------------------------------------------------------------------------------
//
//---------------------------------------------------------------------------------------------------------------------------
FICHA::~FICHA()
{
	release();
}
//---------------------------------------------------------------------------------------------------------------------------
//
//---------------------------------------------------------------------------------------------------------------------------
void FICHA::release()
{
	if(pSprNumero != NULL)
	{
		pScene->removeChild( pSprNumero , true );
		pSprNumero->release();
		pSprNumero	= NULL;
	}
	if(pSprForma != NULL)
	{
		pScene->removeChild( pSprForma , true );
		pSprForma->release();
		pSprForma	= NULL;
	}
	pScene	= NULL;
}
//---------------------------------------------------------------------------------------------------------------------------
// clear
//---------------------------------------------------------------------------------------------------------------------------
void FICHA::init()
{
	color				= OFF;
	forma				= OFF;
	numero				= OFF;
	pSprNumero			= NULL;
	pSprForma			= NULL;
	pScene				= NULL;
	flagMarcada			= false;
	flagActive			= false;
	flagCayendo			= false;
	flagEscapando		= false;
	flagRompiendo		= false;
}
//---------------------------------------------------------------------------------------------------------------------------
// numero
//---------------------------------------------------------------------------------------------------------------------------
void FICHA::setNumero( int _n)
{
	if(_n >= 0)	numero	= _n;
}
//---------------------------------------------------------------------------------------------------------------------------
// forma
//---------------------------------------------------------------------------------------------------------------------------
void FICHA::setForma( int _n)
{
	if(_n >= 0)	forma	= _n;
}
//---------------------------------------------------------------------------------------------------------------------------
// color
//---------------------------------------------------------------------------------------------------------------------------
void FICHA::setColor( int _n)
{
	if(_n >= 0)	color	= _n;
}
//---------------------------------------------------------------------------------------------------------------------------
// set scrX,scrY
//---------------------------------------------------------------------------------------------------------------------------
void FICHA::setScrPos(float _x,float _y)
{
	scrX	= _x;
	scrY	= _y;
}
//---------------------------------------------------------------------------------------------------------------------------
// set mapX,mapY
//---------------------------------------------------------------------------------------------------------------------------
void FICHA::setMapPos(int _x,int _y)
{
	mapX	= _x;
	mapY	= _y;
}
//---------------------------------------------------------------------------------------------------------------------------
// romper
//---------------------------------------------------------------------------------------------------------------------------
void FICHA::accionRomper()
{
	flagRompiendo	= true;
}
//---------------------------------------------------------------------------------------------------------------------------
// escapar
//---------------------------------------------------------------------------------------------------------------------------
void FICHA::accionEscapar()
{
	flagEscapando	= true;
}
//---------------------------------------------------------------------------------------------------------------------------
// caer
//---------------------------------------------------------------------------------------------------------------------------
void FICHA::accionCaer()
{
	flagCayendo		= true;
}
//---------------------------------------------------------------------------------------------------------------------------
// activar
//---------------------------------------------------------------------------------------------------------------------------
void FICHA::activar()
{
	flagActive	= true;
}
//---------------------------------------------------------------------------------------------------------------------------
// desactivar
//---------------------------------------------------------------------------------------------------------------------------
void FICHA::desactivar()
{
	flagActive	= false;
}
